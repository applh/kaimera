<PreferenceScreen xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto">

    <PreferenceCategory app:title="General">
        <SwitchPreferenceCompat
            app:key="shutter_sound"
            app:title="Shutter Sound"
            app:summary="Play a sound when taking a photo"
            app:defaultValue="true" />
    </PreferenceCategory>

    <PreferenceCategory app:title="Camera">
        <ListPreference
            app:key="photo_quality"
            app:title="Photo Quality"
            app:summary="%s"
            app:entries="@array/photo_quality_entries"
            app:entryValues="@array/photo_quality_values"
            app:defaultValue="high" />

        <ListPreference
            app:key="capture_mode_preference"
            app:title="Capture Mode"
            app:summary="%s"
            app:entries="@array/capture_mode_entries"
            app:entryValues="@array/capture_mode_values"
            app:defaultValue="latency" />

        <ListPreference
            app:key="target_resolution"
            app:title="Target Resolution"
            app:summary="%s"
            app:entries="@array/target_resolution_entries"
            app:entryValues="@array/target_resolution_values"
            app:defaultValue="max" />

        <ListPreference
            app:key="flash_mode"
            app:title="Flash Mode"
            app:summary="%s"
            app:entries="@array/flash_mode_entries"
            app:entryValues="@array/flash_mode_values"
            app:defaultValue="auto" />
            
        <ListPreference
            app:key="video_quality"
            app:title="Video Quality"
            app:summary="%s"
            app:entries="@array/video_quality_entries"
            app:entryValues="@array/video_quality_values"
            app:defaultValue="fhd" />

        <ListPreference
            app:key="video_frame_rate"
            app:title="Video Frame Rate"
            app:summary="%s"
            app:entries="@array/video_frame_rate_entries"
            app:entryValues="@array/video_frame_rate_values"
            app:defaultValue="30" />

        <SwitchPreferenceCompat
            app:key="grid_overlay"
            app:title="Grid Overlay"
            app:summary="Show rule of thirds grid"
            app:defaultValue="false" />

        <SeekBarPreference
            app:key="preview_auto_save_delay"
            app:title="Preview Auto-Save Delay"
            app:summary="Automatically save photo after preview (0 = instant save)"
            android:max="5"
            app:defaultValue="2"
            app:showSeekBarValue="true"
            app:updatesContinuously="false" />

        <SwitchPreferenceCompat
            app:key="enable_chronometer"
            app:title="Enable Chronometer"
            app:summary="Show stopwatch overlay on camera screen"
            app:defaultValue="false" />

        <SeekBarPreference
            app:key="gallery_max_zoom"
            app:title="Gallery Max Zoom"
            app:summary="Maximum zoom level for photos and videos"
            android:max="100"
            android:min="1"
            app:defaultValue="10"
            app:showSeekBarValue="true"
            app:updatesContinuously="false" />
    </PreferenceCategory>

    <PreferenceCategory app:title="Storage">
        <ListPreference
            app:key="file_naming_pattern"
            app:title="File Naming Pattern"
            app:summary="%s"
            app:entries="@array/file_naming_entries"
            app:entryValues="@array/file_naming_values"
            app:defaultValue="timestamp" />

        <EditTextPreference
            app:key="custom_file_prefix"
            app:title="Custom File Prefix"
            app:summary="Prefix for filenames (default: IMG/VID/AUDIO)"
            app:defaultValue="IMG"
            app:dependency="file_naming_pattern" />

        <ListPreference
            app:key="save_location"
            app:title="Save Location"
            app:summary="%s"
            app:entries="@array/save_location_entries"
            app:entryValues="@array/save_location_values"
            app:defaultValue="app_storage" />

        <Preference
            app:key="storage_usage"
            app:title="Storage Usage"
            app:summary="Calculating..." />

        <SwitchPreferenceCompat
            app:key="auto_delete_enabled"
            app:title="Auto-Delete Old Files"
            app:summary="Automatically delete files after a specified period"
            app:defaultValue="false" />

        <ListPreference
            app:key="keep_files_for"
            app:title="Keep Files For"
            app:summary="%s"
            app:entries="@array/keep_files_entries"
            app:entryValues="@array/keep_files_values"
            app:defaultValue="30"
            app:dependency="auto_delete_enabled" />
    </PreferenceCategory>

    <PreferenceCategory app:title="About">
        <Preference
            app:key="version"
            app:title="Version"
            app:summary="22.3.7" />
        
        <Preference
            app:key="debug_logs"
            app:title="ðŸ› Debug Logs"
            app:summary="View app logs for troubleshooting"
            app:icon="@android:drawable/ic_menu_info_details" />
    </PreferenceCategory>

</PreferenceScreen>
